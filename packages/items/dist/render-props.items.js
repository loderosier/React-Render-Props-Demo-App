!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","react","prop-types"],t):t(e.Items={},e.React,e.PropTypes)}(this,function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;o.length>r;r++)0>t.indexOf(n=o[r])&&(i[n]=e[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;a.length>r;r++)0>t.indexOf(n=a[r])&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];return"function"==typeof e?e.apply(void 0,n):void 0}t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;var s=function(e,t){!function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[void 0,void 0,void 0,void 0,void 0,void 0],d=0;(u=Error(t.replace(/%s/g,function(){return l[d++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}(void 0===t||null===t||(void 0===e.length?e.size:e.length)>=t,"Prop '"+JSON.stringify(e)+"' failed to meet minimum size: "+t)},u=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e,n){return d(r({result:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){var n=e.items,r=void 0!==n.has;n=r?new Set(n):n.concat();for(var i=0;t.length>i;i++){var o=t[i];r?n.delete(o):n.splice(n.indexOf(o),1)}return{items:n}}}.apply(void 0,t)(e)},e,n))}};function l(){}var d=function(e){var t=e.result,n=e.minItems,r=e.maxItems,o=e.onBoundMin,s=e.onBoundMax,d=i(e,["result","minItems","maxItems","onBoundMin","onBoundMax"]),p={onBoundMin:o,onBoundMax:s,minItems:n,maxItems:r},c={items:t.items,addItem:function(){d=f.apply(void 0,arguments)(d,p)},deleteItem:function(){d=u.apply(void 0,arguments)(d,p)}};return function(e){var t=e.value,n=e.lower,r=e.upper,i=e.outOfUpper,o=e.outOfLower,s=e.inBounds,u=e.cast,d=void 0===u?parseInt:u;return t=d(t),n=d(n),r=d(r),s=s||l,isNaN(t)?s():!isNaN(r)&&t>r?a(i):!isNaN(n)&&n>t?a(o):s()}({value:t.items[void 0!==t.items.length?"length":"size"],lower:n,upper:r,outOfLower:function(){return a(o,c),d},outOfUpper:function(){return a(s,c),d},inBounds:function(){return t}})},f=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e,n){return d(r({result:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){var n=e.items,r=void 0!==n.push;n=r?n.concat():new Set(n);for(var i=r?"push":"add",o=0;t.length>o;o++)n[i](t[o]);return{items:n}}}.apply(void 0,t)(e)},e,n))}};function p(e,t){var n=t.minItems,r={items:void 0!==e.items.push?[]:new Set};return s(r.items,n),r}function c(e){return{items:void 0!==e.items.push?[]:new Set}}function m(e,t){var n=t.items;if(n!==this.state.items){a(this.props.onChange,this.state.items);var r=this.state.items.add?"size":"length";this.state.items[r]>n[r]?a(this.props.onAdd,this.state.items):n[r]>this.state.items[r]&&a(this.props.onDelete,this.state.items)}}function v(){return this.itemsContext.items=this.state.items,this.props.children(this.itemsContext)}var h=function(e){var t,n;function i(t){var n;n=e.call(this,t)||this,Object.defineProperty(o(n),"handleChange",{configurable:!0,enumerable:!0,writable:!0,value:function(){return a(n.props.onChange,n.state.items)}}),Object.defineProperty(o(n),"addItem",{configurable:!0,enumerable:!0,writable:!0,value:function(){return n.setState(f.apply(void 0,arguments))}}),Object.defineProperty(o(n),"deleteItem",{configurable:!0,enumerable:!0,writable:!0,value:function(){return n.setState(u.apply(void 0,arguments))}}),Object.defineProperty(o(n),"clearItems",{configurable:!0,enumerable:!0,writable:!0,value:function(){return n.setState(p,n.handleChange)}}),Object.defineProperty(o(n),"setItems",{configurable:!0,enumerable:!0,writable:!0,value:function(e){n.setState(c),n.setState(f.apply(void 0,e))}}),Object.defineProperty(o(n),"includes",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=n.state.items;return t[void 0!==t.includes?"includes":"has"](e)}});var i=t.initialItems;return i.push&&0===i.length?i=[]:i.add&&0===i.size&&(i=new Set),n.state=r({},f.apply(void 0,i)({items:i.push?[]:new Set},t)),n.itemsContext={addItem:n.addItem,deleteItem:n.deleteItem,setItems:n.setItems,clearItems:n.clearItems,includes:n.includes,items:n.state.items},n}(t=i).prototype=Object.create((n=e).prototype),t.prototype.constructor=t,t.__proto__=n;var s=i.prototype;return s.componentDidUpdate=m,s.render=v,i}(t.PureComponent);Object.defineProperty(h,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{initialItems:[]}}),e.ItemSet=function(e){var n=e.initialItems,o=void 0===n?new Set:n,a=i(e,["initialItems"]);return void 0===o.size&&(o=new Set(o)),t.createElement(h,r({initialItems:o},a))},e.default=h,Object.defineProperty(e,"__esModule",{value:!0})});
