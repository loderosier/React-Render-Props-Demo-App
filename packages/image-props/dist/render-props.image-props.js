!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","react","prop-types"],t):t(e.ImageProps={},e.React,e.PropTypes)}(this,function(e,t,n){"use strict";function r(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function i(e,t,n,r){try{e(n(r))}catch(e){t(e)}}function o(e){return this.then(void 0,e)}function u(){return this._canceled=!0,this}t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;var l,c,s=(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=a,r=i,l=function(){function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._promise=new Promise(t),this._canceled=!1}return n(e,null,[{key:"all",value:function(t){return new e(function(e,n){Promise.all(t).then(e,n)})}},{key:"race",value:function(t){return new e(function(e,n){Promise.race(t).then(e,n)})}},{key:"reject",value:function(t){return new e(function(e,n){Promise.reject(t).then(e,n)})}},{key:"resolve",value:function(t){return new e(function(e,n){Promise.resolve(t).then(e,n)})}}]),n(e,[{key:"then",value:function(t,n){var a=this,i=new e(function(e,o){a._promise.then(function(n){a._canceled&&i.cancel(),t&&!a._canceled?r(e,o,t,n):e(n)},function(t){a._canceled&&i.cancel(),n&&!a._canceled?r(e,o,n,t):o(t)})});return i}},{key:"catch",value:o},{key:"cancel",value:u}]),e}();t.default=l}(l={exports:{}},l.exports),(c=l.exports)&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c);function f(e){return new s(function(t,n){!0===e.complete||e.naturalHeight>0?t({target:e}):(e.onload=t,e.onerror=n)})}function h(e){return e()}function d(e){return e([])}function p(e){var t=e.width,n=e.height;return t>n?"landscape":t===n?"square":"portrait"}function m(){null!==this.imageLoader&&this.imageLoader.cancel()}function g(){var e=this;null!==this.element&&(this.imageLoader=f(this.element),this.imageLoader.then(function(t){var n=t.target,r=n.width,a=n.height,i=n.naturalWidth,o=n.naturalHeight;e.setState({orientation:p({width:i,height:o}),width:r,height:a,naturalWidth:i,naturalHeight:o,complete:!0}),e.imageLoader=null}))}function y(){return this.props.children(Object.assign(this.statContext,this.state))}e.default=function(e){var t,n;function r(t){var n;return n=e.call(this,t)||this,Object.defineProperty(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),"imageRef",{configurable:!0,enumerable:!0,writable:!0,value:function(e){(e!==n.element||e&&n.element&&e.src!==n.element.src)&&(n.element=e,n.setStats())}}),n.element=null,n.imageLoader=null,n.state={orientation:"square",width:0,height:0,naturalWidth:0,naturalHeight:0,complete:!1},n.statContext={imageRef:n.imageRef},n}(t=r).prototype=Object.create((n=e).prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentWillUnmount=m,a.setStats=g,a.render=y,r}(t.Component),e.getOrientation=p,e.loadImage=f,e.loadImages=function(e){if(!e)return new s(h);var t=e.getElementsByTagName("img");if(null===t||0===t.length)return new s(d);for(var n=[],r=0;t.length>r;r++)n.push(f(t[r]));return s.all(n)},Object.defineProperty(e,"__esModule",{value:!0})});
